import{n as x,r as Y,j as te,P as Kr,c as ve,z as zr,W as Gr}from"./index-BTDXGmre.js";var he=e=>e.type==="checkbox",oe=e=>e instanceof Date,W=e=>e==null;const _r=e=>typeof e=="object";var I=e=>!W(e)&&!Array.isArray(e)&&_r(e)&&!oe(e),vr=e=>I(e)&&e.target?he(e.target)?e.target.checked:e.target.value:e,Yr=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,hr=(e,t)=>e.has(Yr(t)),Jr=e=>{const t=e.constructor&&e.constructor.prototype;return I(t)&&t.hasOwnProperty("isPrototypeOf")},Ge=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function L(e){let t;const r=Array.isArray(e);if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(Ge&&(e instanceof Blob||e instanceof FileList))&&(r||I(e)))if(t=r?[]:{},!r&&!Jr(e))t=e;else for(const s in e)e.hasOwnProperty(s)&&(t[s]=L(e[s]));else return e;return t}var Fe=e=>Array.isArray(e)?e.filter(Boolean):[],C=e=>e===void 0,c=(e,t,r)=>{if(!t||!I(e))return r;const s=Fe(t.split(/[,[\].]+?/)).reduce((a,u)=>W(a)?a:a[u],e);return C(s)||s===e?C(e[t])?r:e[t]:s},z=e=>typeof e=="boolean",Ye=e=>/^\w*$/.test(e),Fr=e=>Fe(e.replace(/["|']|\]/g,"").split(/\.|\[/)),w=(e,t,r)=>{let s=-1;const a=Ye(t)?[t]:Fr(t),u=a.length,o=u-1;for(;++s<u;){const y=a[s];let h=r;if(s!==o){const E=e[y];h=I(E)||Array.isArray(E)?E:isNaN(+a[s+1])?{}:[]}if(y==="__proto__")return;e[y]=h,e=e[y]}return e};const pe={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},G={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},se={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},br=x.createContext(null),be=()=>x.useContext(br),Qr=e=>{const{children:t,...r}=e;return x.createElement(br.Provider,{value:r},t)};var xr=(e,t,r,s=!0)=>{const a={defaultValues:t._defaultValues};for(const u in e)Object.defineProperty(a,u,{get:()=>{const o=u;return t._proxyFormState[o]!==G.all&&(t._proxyFormState[o]=!s||G.all),r&&(r[o]=!0),e[o]}});return a},B=e=>I(e)&&!Object.keys(e).length,Ar=(e,t,r,s)=>{r(e);const{name:a,...u}=e;return B(u)||Object.keys(u).length>=Object.keys(t).length||Object.keys(u).find(o=>t[o]===(!s||G.all))},$=e=>Array.isArray(e)?e:[e],Vr=(e,t,r)=>!e||!t||e===t||$(e).some(s=>s&&(r?s===t:s.startsWith(t)||t.startsWith(s)));function ke(e){const t=x.useRef(e);t.current=e,x.useEffect(()=>{const r=!e.disabled&&t.current.subject&&t.current.subject.subscribe({next:t.current.next});return()=>{r&&r.unsubscribe()}},[e.disabled])}function Xr(e){const t=be(),{control:r=t.control,disabled:s,name:a,exact:u}=e||{},[o,y]=x.useState(r._formState),h=x.useRef(!0),E=x.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),b=x.useRef(a);return b.current=a,ke({disabled:s,next:F=>h.current&&Vr(b.current,F.name,u)&&Ar(F,E.current,r._updateFormState)&&y({...r._formState,...F}),subject:r._subjects.state}),x.useEffect(()=>(h.current=!0,E.current.isValid&&r._updateValid(!0),()=>{h.current=!1}),[r]),xr(o,r,E.current,!1)}var re=e=>typeof e=="string",pr=(e,t,r,s,a)=>re(e)?(s&&t.watch.add(e),c(r,e,a)):Array.isArray(e)?e.map(u=>(s&&t.watch.add(u),c(r,u))):(s&&(t.watchAll=!0),r);function Zr(e){const t=be(),{control:r=t.control,name:s,defaultValue:a,disabled:u,exact:o}=e||{},y=x.useRef(s);y.current=s,ke({disabled:u,subject:r._subjects.values,next:b=>{Vr(y.current,b.name,o)&&E(L(pr(y.current,r._names,b.values||r._formValues,!1,a)))}});const[h,E]=x.useState(r._getWatch(s,a));return x.useEffect(()=>r._removeUnmounted()),h}function et(e){const t=be(),{name:r,disabled:s,control:a=t.control,shouldUnregister:u}=e,o=hr(a._names.array,r),y=Zr({control:a,name:r,defaultValue:c(a._formValues,r,c(a._defaultValues,r,e.defaultValue)),exact:!0}),h=Xr({control:a,name:r,exact:!0}),E=x.useRef(a.register(r,{...e.rules,value:y,...z(e.disabled)?{disabled:e.disabled}:{}}));return x.useEffect(()=>{const b=a._options.shouldUnregister||u,F=(k,q)=>{const O=c(a._fields,k);O&&O._f&&(O._f.mount=q)};if(F(r,!0),b){const k=L(c(a._options.defaultValues,r));w(a._defaultValues,r,k),C(c(a._formValues,r))&&w(a._formValues,r,k)}return()=>{(o?b&&!a._state.action:b)?a.unregister(r):F(r,!1)}},[r,a,o,u]),x.useEffect(()=>{c(a._fields,r)&&a._updateDisabledField({disabled:s,fields:a._fields,name:r,value:c(a._fields,r)._f.value})},[s,r,a]),{field:{name:r,value:y,...z(s)||h.disabled?{disabled:h.disabled||s}:{},onChange:x.useCallback(b=>E.current.onChange({target:{value:vr(b),name:r},type:pe.CHANGE}),[r]),onBlur:x.useCallback(()=>E.current.onBlur({target:{value:c(a._formValues,r),name:r},type:pe.BLUR}),[r,a]),ref:x.useCallback(b=>{const F=c(a._fields,r);F&&b&&(F._f.ref={focus:()=>b.focus(),select:()=>b.select(),setCustomValidity:k=>b.setCustomValidity(k),reportValidity:()=>b.reportValidity()})},[a._fields,r])},formState:h,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!c(h.errors,r)},isDirty:{enumerable:!0,get:()=>!!c(h.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!c(h.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!c(h.validatingFields,r)},error:{enumerable:!0,get:()=>c(h.errors,r)}})}}const rt=e=>e.render(et(e));var wr=(e,t,r,s,a)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[s]:a||!0}}:{},ae=()=>{const e=typeof performance>"u"?Date.now():performance.now()*1e3;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const r=(Math.random()*16+e)%16|0;return(t=="x"?r:r&3|8).toString(16)})},Ue=(e,t,r={})=>r.shouldFocus||C(r.shouldFocus)?r.focusName||`${e}.${C(r.focusIndex)?t:r.focusIndex}.`:"",_e=e=>({isOnSubmit:!e||e===G.onSubmit,isOnBlur:e===G.onBlur,isOnChange:e===G.onChange,isOnAll:e===G.all,isOnTouch:e===G.onTouched}),Ke=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(s=>e.startsWith(s)&&/^\.\w+/.test(e.slice(s.length))));const ce=(e,t,r,s)=>{for(const a of r||Object.keys(e)){const u=c(e,a);if(u){const{_f:o,...y}=u;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],a)&&!s)return!0;if(o.ref&&t(o.ref,o.name)&&!s)return!0;if(ce(y,t))break}else if(I(y)&&ce(y,t))break}}};var Sr=(e,t,r)=>{const s=$(c(e,r));return w(s,"root",t[r]),w(e,r,s),e},Je=e=>e.type==="file",ie=e=>typeof e=="function",we=e=>{if(!Ge)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},Ve=e=>re(e),Qe=e=>e.type==="radio",Se=e=>e instanceof RegExp;const lr={value:!1,isValid:!1},or={value:!0,isValid:!0};var Dr=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!C(e[0].attributes.value)?C(e[0].value)||e[0].value===""?or:{value:e[0].value,isValid:!0}:or:lr}return lr};const cr={isValid:!1,value:null};var Er=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,cr):cr;function dr(e,t,r="validate"){if(Ve(e)||Array.isArray(e)&&e.every(Ve)||z(e)&&!e)return{type:r,message:Ve(e)?e:"",ref:t}}var le=e=>I(e)&&!Se(e)?e:{value:e,message:""},ze=async(e,t,r,s,a)=>{const{ref:u,refs:o,required:y,maxLength:h,minLength:E,min:b,max:F,pattern:k,validate:q,name:O,valueAsNumber:de,mount:J,disabled:ee}=e._f,p=c(t,O);if(!J||ee)return{};const Q=o?o[0]:u,X=V=>{s&&Q.reportValidity&&(Q.setCustomValidity(z(V)?"":V||""),Q.reportValidity())},m={},v=Qe(u),A=he(u),R=v||A,H=(de||Je(u))&&C(u.value)&&C(p)||we(u)&&u.value===""||p===""||Array.isArray(p)&&!p.length,j=wr.bind(null,O,r,m),xe=(V,S,U,P=se.maxLength,Z=se.minLength)=>{const K=V?S:U;m[O]={type:V?P:Z,message:K,ref:u,...j(V?P:Z,K)}};if(a?!Array.isArray(p)||!p.length:y&&(!R&&(H||W(p))||z(p)&&!p||A&&!Dr(o).isValid||v&&!Er(o).isValid)){const{value:V,message:S}=Ve(y)?{value:!!y,message:y}:le(y);if(V&&(m[O]={type:se.required,message:S,ref:Q,...j(se.required,S)},!r))return X(S),m}if(!H&&(!W(b)||!W(F))){let V,S;const U=le(F),P=le(b);if(!W(p)&&!isNaN(p)){const Z=u.valueAsNumber||p&&+p;W(U.value)||(V=Z>U.value),W(P.value)||(S=Z<P.value)}else{const Z=u.valueAsDate||new Date(p),K=ge=>new Date(new Date().toDateString()+" "+ge),fe=u.type=="time",ye=u.type=="week";re(U.value)&&p&&(V=fe?K(p)>K(U.value):ye?p>U.value:Z>new Date(U.value)),re(P.value)&&p&&(S=fe?K(p)<K(P.value):ye?p<P.value:Z<new Date(P.value))}if((V||S)&&(xe(!!V,U.message,P.message,se.max,se.min),!r))return X(m[O].message),m}if((h||E)&&!H&&(re(p)||a&&Array.isArray(p))){const V=le(h),S=le(E),U=!W(V.value)&&p.length>+V.value,P=!W(S.value)&&p.length<+S.value;if((U||P)&&(xe(U,V.message,S.message),!r))return X(m[O].message),m}if(k&&!H&&re(p)){const{value:V,message:S}=le(k);if(Se(V)&&!p.match(V)&&(m[O]={type:se.pattern,message:S,ref:u,...j(se.pattern,S)},!r))return X(S),m}if(q){if(ie(q)){const V=await q(p,t),S=dr(V,Q);if(S&&(m[O]={...S,...j(se.validate,S.message)},!r))return X(S.message),m}else if(I(q)){let V={};for(const S in q){if(!B(V)&&!r)break;const U=dr(await q[S](p,t),Q,S);U&&(V={...U,...j(S,U.message)},X(U.message),r&&(m[O]=V))}if(!B(V)&&(m[O]={ref:Q,...V},!r))return m}}return X(!0),m},Le=(e,t)=>[...e,...$(t)],Me=e=>Array.isArray(e)?e.map(()=>{}):void 0;function Te(e,t,r){return[...e.slice(0,t),...$(r),...e.slice(t)]}var Pe=(e,t,r)=>Array.isArray(e)?(C(e[r])&&(e[r]=void 0),e.splice(r,0,e.splice(t,1)[0]),e):[],je=(e,t)=>[...$(t),...$(e)];function tt(e,t){let r=0;const s=[...e];for(const a of t)s.splice(a-r,1),r++;return Fe(s).length?s:[]}var Be=(e,t)=>C(t)?[]:tt(e,$(t).sort((r,s)=>r-s)),We=(e,t,r)=>{[e[t],e[r]]=[e[r],e[t]]};function st(e,t){const r=t.slice(0,-1).length;let s=0;for(;s<r;)e=C(e)?s++:e[t[s++]];return e}function it(e){for(const t in e)if(e.hasOwnProperty(t)&&!C(e[t]))return!1;return!0}function N(e,t){const r=Array.isArray(t)?t:Ye(t)?[t]:Fr(t),s=r.length===1?e:st(e,r),a=r.length-1,u=r[a];return s&&delete s[u],a!==0&&(I(s)&&B(s)||Array.isArray(s)&&it(s))&&N(e,r.slice(0,-1)),e}var fr=(e,t,r)=>(e[t]=r,e);function Dt(e){const t=be(),{control:r=t.control,name:s,keyName:a="id",shouldUnregister:u}=e,[o,y]=x.useState(r._getFieldArray(s)),h=x.useRef(r._getFieldArray(s).map(ae)),E=x.useRef(o),b=x.useRef(s),F=x.useRef(!1);b.current=s,E.current=o,r._names.array.add(s),e.rules&&r.register(s,e.rules),ke({next:({values:m,name:v})=>{if(v===b.current||!v){const A=c(m,b.current);Array.isArray(A)&&(y(A),h.current=A.map(ae))}},subject:r._subjects.array});const k=x.useCallback(m=>{F.current=!0,r._updateFieldArray(s,m)},[r,s]),q=(m,v)=>{const A=$(L(m)),R=Le(r._getFieldArray(s),A);r._names.focus=Ue(s,R.length-1,v),h.current=Le(h.current,A.map(ae)),k(R),y(R),r._updateFieldArray(s,R,Le,{argA:Me(m)})},O=(m,v)=>{const A=$(L(m)),R=je(r._getFieldArray(s),A);r._names.focus=Ue(s,0,v),h.current=je(h.current,A.map(ae)),k(R),y(R),r._updateFieldArray(s,R,je,{argA:Me(m)})},de=m=>{const v=Be(r._getFieldArray(s),m);h.current=Be(h.current,m),k(v),y(v),r._updateFieldArray(s,v,Be,{argA:m})},J=(m,v,A)=>{const R=$(L(v)),H=Te(r._getFieldArray(s),m,R);r._names.focus=Ue(s,m,A),h.current=Te(h.current,m,R.map(ae)),k(H),y(H),r._updateFieldArray(s,H,Te,{argA:m,argB:Me(v)})},ee=(m,v)=>{const A=r._getFieldArray(s);We(A,m,v),We(h.current,m,v),k(A),y(A),r._updateFieldArray(s,A,We,{argA:m,argB:v},!1)},p=(m,v)=>{const A=r._getFieldArray(s);Pe(A,m,v),Pe(h.current,m,v),k(A),y(A),r._updateFieldArray(s,A,Pe,{argA:m,argB:v},!1)},Q=(m,v)=>{const A=L(v),R=fr(r._getFieldArray(s),m,A);h.current=[...R].map((H,j)=>!H||j===m?ae():h.current[j]),k(R),y([...R]),r._updateFieldArray(s,R,fr,{argA:m,argB:A},!0,!1)},X=m=>{const v=$(L(m));h.current=v.map(ae),k([...v]),y([...v]),r._updateFieldArray(s,[...v],A=>A,{},!0,!1)};return x.useEffect(()=>{if(r._state.action=!1,Ke(s,r._names)&&r._subjects.state.next({...r._formState}),F.current&&(!_e(r._options.mode).isOnSubmit||r._formState.isSubmitted))if(r._options.resolver)r._executeSchema([s]).then(m=>{const v=c(m.errors,s),A=c(r._formState.errors,s);(A?!v&&A.type||v&&(A.type!==v.type||A.message!==v.message):v&&v.type)&&(v?w(r._formState.errors,s,v):N(r._formState.errors,s),r._subjects.state.next({errors:r._formState.errors}))});else{const m=c(r._fields,s);m&&m._f&&!(_e(r._options.reValidateMode).isOnSubmit&&_e(r._options.mode).isOnSubmit)&&ze(m,r._formValues,r._options.criteriaMode===G.all,r._options.shouldUseNativeValidation,!0).then(v=>!B(v)&&r._subjects.state.next({errors:Sr(r._formState.errors,v,s)}))}r._subjects.values.next({name:s,values:{...r._formValues}}),r._names.focus&&ce(r._fields,(m,v)=>{if(r._names.focus&&v.startsWith(r._names.focus)&&m.focus)return m.focus(),1}),r._names.focus="",r._updateValid(),F.current=!1},[o,s,r]),x.useEffect(()=>(!c(r._formValues,s)&&r._updateFieldArray(s),()=>{(r._options.shouldUnregister||u)&&r.unregister(s)}),[s,r,a,u]),{swap:x.useCallback(ee,[k,s,r]),move:x.useCallback(p,[k,s,r]),prepend:x.useCallback(O,[k,s,r]),append:x.useCallback(q,[k,s,r]),remove:x.useCallback(de,[k,s,r]),insert:x.useCallback(J,[k,s,r]),update:x.useCallback(Q,[k,s,r]),replace:x.useCallback(X,[k,s,r]),fields:x.useMemo(()=>o.map((m,v)=>({...m,[a]:h.current[v]||ae()})),[o,a])}}var $e=()=>{let e=[];return{get observers(){return e},next:a=>{for(const u of e)u.next&&u.next(a)},subscribe:a=>(e.push(a),{unsubscribe:()=>{e=e.filter(u=>u!==a)}}),unsubscribe:()=>{e=[]}}},De=e=>W(e)||!_r(e);function ne(e,t){if(De(e)||De(t))return e===t;if(oe(e)&&oe(t))return e.getTime()===t.getTime();const r=Object.keys(e),s=Object.keys(t);if(r.length!==s.length)return!1;for(const a of r){const u=e[a];if(!s.includes(a))return!1;if(a!=="ref"){const o=t[a];if(oe(u)&&oe(o)||I(u)&&I(o)||Array.isArray(u)&&Array.isArray(o)?!ne(u,o):u!==o)return!1}}return!0}var kr=e=>e.type==="select-multiple",at=e=>Qe(e)||he(e),qe=e=>we(e)&&e.isConnected,Cr=e=>{for(const t in e)if(ie(e[t]))return!0;return!1};function Ee(e,t={}){const r=Array.isArray(e);if(I(e)||r)for(const s in e)Array.isArray(e[s])||I(e[s])&&!Cr(e[s])?(t[s]=Array.isArray(e[s])?[]:{},Ee(e[s],t[s])):W(e[s])||(t[s]=!0);return t}function Rr(e,t,r){const s=Array.isArray(e);if(I(e)||s)for(const a in e)Array.isArray(e[a])||I(e[a])&&!Cr(e[a])?C(t)||De(r[a])?r[a]=Array.isArray(e[a])?Ee(e[a],[]):{...Ee(e[a])}:Rr(e[a],W(t)?{}:t[a],r[a]):r[a]=!ne(e[a],t[a]);return r}var Ae=(e,t)=>Rr(e,t,Ee(t)),Nr=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:s})=>C(e)?e:t?e===""?NaN:e&&+e:r&&re(e)?new Date(e):s?s(e):e;function He(e){const t=e.ref;if(!(e.refs?e.refs.every(r=>r.disabled):t.disabled))return Je(t)?t.files:Qe(t)?Er(e.refs).value:kr(t)?[...t.selectedOptions].map(({value:r})=>r):he(t)?Dr(e.refs).value:Nr(C(t.value)?e.ref.value:t.value,e)}var nt=(e,t,r,s)=>{const a={};for(const u of e){const o=c(t,u);o&&w(a,u,o._f)}return{criteriaMode:r,names:[...e],fields:a,shouldUseNativeValidation:s}},me=e=>C(e)?e:Se(e)?e.source:I(e)?Se(e.value)?e.value.source:e.value:e;const yr="AsyncFunction";var ut=e=>(!e||!e.validate)&&!!(ie(e.validate)&&e.validate.constructor.name===yr||I(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===yr)),lt=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function gr(e,t,r){const s=c(e,r);if(s||Ye(r))return{error:s,name:r};const a=r.split(".");for(;a.length;){const u=a.join("."),o=c(t,u),y=c(e,u);if(o&&!Array.isArray(o)&&r!==u)return{name:r};if(y&&y.type)return{name:u,error:y};a.pop()}return{name:r}}var ot=(e,t,r,s,a)=>a.isOnAll?!1:!r&&a.isOnTouch?!(t||e):(r?s.isOnBlur:a.isOnBlur)?!e:(r?s.isOnChange:a.isOnChange)?e:!0,ct=(e,t)=>!Fe(c(e,t)).length&&N(e,t);const dt={mode:G.onSubmit,reValidateMode:G.onChange,shouldFocusError:!0};function ft(e={}){let t={...dt,...e},r={submitCount:0,isDirty:!1,isLoading:ie(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},s={},a=I(t.defaultValues)||I(t.values)?L(t.defaultValues||t.values)||{}:{},u=t.shouldUnregister?{}:L(a),o={action:!1,mount:!1,watch:!1},y={mount:new Set,unMount:new Set,array:new Set,watch:new Set},h,E=0;const b={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},F={values:$e(),array:$e(),state:$e()},k=_e(t.mode),q=_e(t.reValidateMode),O=t.criteriaMode===G.all,de=i=>n=>{clearTimeout(E),E=setTimeout(i,n)},J=async i=>{if(b.isValid||i){const n=t.resolver?B((await R()).errors):await j(s,!0);n!==r.isValid&&F.state.next({isValid:n})}},ee=(i,n)=>{(b.isValidating||b.validatingFields)&&((i||Array.from(y.mount)).forEach(l=>{l&&(n?w(r.validatingFields,l,n):N(r.validatingFields,l))}),F.state.next({validatingFields:r.validatingFields,isValidating:!B(r.validatingFields)}))},p=(i,n=[],l,g,f=!0,d=!0)=>{if(g&&l){if(o.action=!0,d&&Array.isArray(c(s,i))){const _=l(c(s,i),g.argA,g.argB);f&&w(s,i,_)}if(d&&Array.isArray(c(r.errors,i))){const _=l(c(r.errors,i),g.argA,g.argB);f&&w(r.errors,i,_),ct(r.errors,i)}if(b.touchedFields&&d&&Array.isArray(c(r.touchedFields,i))){const _=l(c(r.touchedFields,i),g.argA,g.argB);f&&w(r.touchedFields,i,_)}b.dirtyFields&&(r.dirtyFields=Ae(a,u)),F.state.next({name:i,isDirty:V(i,n),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else w(u,i,n)},Q=(i,n)=>{w(r.errors,i,n),F.state.next({errors:r.errors})},X=i=>{r.errors=i,F.state.next({errors:r.errors,isValid:!1})},m=(i,n,l,g)=>{const f=c(s,i);if(f){const d=c(u,i,C(l)?c(a,i):l);C(d)||g&&g.defaultChecked||n?w(u,i,n?d:He(f._f)):P(i,d),o.mount&&J()}},v=(i,n,l,g,f)=>{let d=!1,_=!1;const D={name:i},M=!!(c(s,i)&&c(s,i)._f&&c(s,i)._f.disabled);if(!l||g){b.isDirty&&(_=r.isDirty,r.isDirty=D.isDirty=V(),d=_!==D.isDirty);const T=M||ne(c(a,i),n);_=!!(!M&&c(r.dirtyFields,i)),T||M?N(r.dirtyFields,i):w(r.dirtyFields,i,!0),D.dirtyFields=r.dirtyFields,d=d||b.dirtyFields&&_!==!T}if(l){const T=c(r.touchedFields,i);T||(w(r.touchedFields,i,l),D.touchedFields=r.touchedFields,d=d||b.touchedFields&&T!==l)}return d&&f&&F.state.next(D),d?D:{}},A=(i,n,l,g)=>{const f=c(r.errors,i),d=b.isValid&&z(n)&&r.isValid!==n;if(e.delayError&&l?(h=de(()=>Q(i,l)),h(e.delayError)):(clearTimeout(E),h=null,l?w(r.errors,i,l):N(r.errors,i)),(l?!ne(f,l):f)||!B(g)||d){const _={...g,...d&&z(n)?{isValid:n}:{},errors:r.errors,name:i};r={...r,..._},F.state.next(_)}},R=async i=>{ee(i,!0);const n=await t.resolver(u,t.context,nt(i||y.mount,s,t.criteriaMode,t.shouldUseNativeValidation));return ee(i),n},H=async i=>{const{errors:n}=await R(i);if(i)for(const l of i){const g=c(n,l);g?w(r.errors,l,g):N(r.errors,l)}else r.errors=n;return n},j=async(i,n,l={valid:!0})=>{for(const g in i){const f=i[g];if(f){const{_f:d,..._}=f;if(d){const D=y.array.has(d.name),M=f._f&&ut(f._f);M&&b.validatingFields&&ee([g],!0);const T=await ze(f,u,O,t.shouldUseNativeValidation&&!n,D);if(M&&b.validatingFields&&ee([g]),T[d.name]&&(l.valid=!1,n))break;!n&&(c(T,d.name)?D?Sr(r.errors,T,d.name):w(r.errors,d.name,T[d.name]):N(r.errors,d.name))}!B(_)&&await j(_,n,l)}}return l.valid},xe=()=>{for(const i of y.unMount){const n=c(s,i);n&&(n._f.refs?n._f.refs.every(l=>!qe(l)):!qe(n._f.ref))&&Re(i)}y.unMount=new Set},V=(i,n)=>(i&&n&&w(u,i,n),!ne(Xe(),a)),S=(i,n,l)=>pr(i,y,{...o.mount?u:C(n)?a:re(i)?{[i]:n}:n},l,n),U=i=>Fe(c(o.mount?u:a,i,e.shouldUnregister?c(a,i,[]):[])),P=(i,n,l={})=>{const g=c(s,i);let f=n;if(g){const d=g._f;d&&(!d.disabled&&w(u,i,Nr(n,d)),f=we(d.ref)&&W(n)?"":n,kr(d.ref)?[...d.ref.options].forEach(_=>_.selected=f.includes(_.value)):d.refs?he(d.ref)?d.refs.length>1?d.refs.forEach(_=>(!_.defaultChecked||!_.disabled)&&(_.checked=Array.isArray(f)?!!f.find(D=>D===_.value):f===_.value)):d.refs[0]&&(d.refs[0].checked=!!f):d.refs.forEach(_=>_.checked=_.value===f):Je(d.ref)?d.ref.value="":(d.ref.value=f,d.ref.type||F.values.next({name:i,values:{...u}})))}(l.shouldDirty||l.shouldTouch)&&v(i,f,l.shouldTouch,l.shouldDirty,!0),l.shouldValidate&&ge(i)},Z=(i,n,l)=>{for(const g in n){const f=n[g],d=`${i}.${g}`,_=c(s,d);(y.array.has(i)||!De(f)||_&&!_._f)&&!oe(f)?Z(d,f,l):P(d,f,l)}},K=(i,n,l={})=>{const g=c(s,i),f=y.array.has(i),d=L(n);w(u,i,d),f?(F.array.next({name:i,values:{...u}}),(b.isDirty||b.dirtyFields)&&l.shouldDirty&&F.state.next({name:i,dirtyFields:Ae(a,u),isDirty:V(i,d)})):g&&!g._f&&!W(d)?Z(i,d,l):P(i,d,l),Ke(i,y)&&F.state.next({...r}),F.values.next({name:o.mount?i:void 0,values:{...u}})},fe=async i=>{o.mount=!0;const n=i.target;let l=n.name,g=!0;const f=c(s,l),d=()=>n.type?He(f._f):vr(i),_=D=>{g=Number.isNaN(D)||ne(D,c(u,l,D))};if(f){let D,M;const T=d(),ue=i.type===pe.BLUR||i.type===pe.FOCUS_OUT,$r=!lt(f._f)&&!t.resolver&&!c(r.errors,l)&&!f._f.deps||ot(ue,c(r.touchedFields,l),r.isSubmitted,q,k),Ie=Ke(l,y,ue);w(u,l,T),ue?(f._f.onBlur&&f._f.onBlur(i),h&&h(0)):f._f.onChange&&f._f.onChange(i);const Oe=v(l,T,ue,!1),qr=!B(Oe)||Ie;if(!ue&&F.values.next({name:l,type:i.type,values:{...u}}),$r)return b.isValid&&(e.mode==="onBlur"?ue&&J():J()),qr&&F.state.next({name:l,...Ie?{}:Oe});if(!ue&&Ie&&F.state.next({...r}),t.resolver){const{errors:nr}=await R([l]);if(_(T),g){const Hr=gr(r.errors,s,l),ur=gr(nr,s,Hr.name||l);D=ur.error,l=ur.name,M=B(nr)}}else ee([l],!0),D=(await ze(f,u,O,t.shouldUseNativeValidation))[l],ee([l]),_(T),g&&(D?M=!1:b.isValid&&(M=await j(s,!0)));g&&(f._f.deps&&ge(f._f.deps),A(l,M,D,Oe))}},ye=(i,n)=>{if(c(r.errors,n)&&i.focus)return i.focus(),1},ge=async(i,n={})=>{let l,g;const f=$(i);if(t.resolver){const d=await H(C(i)?i:f);l=B(d),g=i?!f.some(_=>c(d,_)):l}else i?(g=(await Promise.all(f.map(async d=>{const _=c(s,d);return await j(_&&_._f?{[d]:_}:_)}))).every(Boolean),!(!g&&!r.isValid)&&J()):g=l=await j(s);return F.state.next({...!re(i)||b.isValid&&l!==r.isValid?{}:{name:i},...t.resolver||!i?{isValid:l}:{},errors:r.errors}),n.shouldFocus&&!g&&ce(s,ye,i?f:y.mount),g},Xe=i=>{const n={...o.mount?u:a};return C(i)?n:re(i)?c(n,i):i.map(l=>c(n,l))},Ze=(i,n)=>({invalid:!!c((n||r).errors,i),isDirty:!!c((n||r).dirtyFields,i),error:c((n||r).errors,i),isValidating:!!c(r.validatingFields,i),isTouched:!!c((n||r).touchedFields,i)}),Pr=i=>{i&&$(i).forEach(n=>N(r.errors,n)),F.state.next({errors:i?r.errors:{}})},er=(i,n,l)=>{const g=(c(s,i,{_f:{}})._f||{}).ref,f=c(r.errors,i)||{},{ref:d,message:_,type:D,...M}=f;w(r.errors,i,{...M,...n,ref:g}),F.state.next({name:i,errors:r.errors,isValid:!1}),l&&l.shouldFocus&&g&&g.focus&&g.focus()},jr=(i,n)=>ie(i)?F.values.subscribe({next:l=>i(S(void 0,n),l)}):S(i,n,!0),Re=(i,n={})=>{for(const l of i?$(i):y.mount)y.mount.delete(l),y.array.delete(l),n.keepValue||(N(s,l),N(u,l)),!n.keepError&&N(r.errors,l),!n.keepDirty&&N(r.dirtyFields,l),!n.keepTouched&&N(r.touchedFields,l),!n.keepIsValidating&&N(r.validatingFields,l),!t.shouldUnregister&&!n.keepDefaultValue&&N(a,l);F.values.next({values:{...u}}),F.state.next({...r,...n.keepDirty?{isDirty:V()}:{}}),!n.keepIsValid&&J()},rr=({disabled:i,name:n,field:l,fields:g,value:f})=>{if(z(i)&&o.mount||i){const d=i?void 0:C(f)?He(l?l._f:c(g,n)._f):f;w(u,n,d),v(n,d,!1,!1,!0)}},Ne=(i,n={})=>{let l=c(s,i);const g=z(n.disabled)||z(e.disabled);return w(s,i,{...l||{},_f:{...l&&l._f?l._f:{ref:{name:i}},name:i,mount:!0,...n}}),y.mount.add(i),l?rr({field:l,disabled:z(n.disabled)?n.disabled:e.disabled,name:i,value:n.value}):m(i,!0,n.value),{...g?{disabled:n.disabled||e.disabled}:{},...t.progressive?{required:!!n.required,min:me(n.min),max:me(n.max),minLength:me(n.minLength),maxLength:me(n.maxLength),pattern:me(n.pattern)}:{},name:i,onChange:fe,onBlur:fe,ref:f=>{if(f){Ne(i,n),l=c(s,i);const d=C(f.value)&&f.querySelectorAll&&f.querySelectorAll("input,select,textarea")[0]||f,_=at(d),D=l._f.refs||[];if(_?D.find(M=>M===d):d===l._f.ref)return;w(s,i,{_f:{...l._f,..._?{refs:[...D.filter(qe),d,...Array.isArray(c(a,i))?[{}]:[]],ref:{type:d.type,name:i}}:{ref:d}}}),m(i,!1,void 0,d)}else l=c(s,i,{}),l._f&&(l._f.mount=!1),(t.shouldUnregister||n.shouldUnregister)&&!(hr(y.array,i)&&o.action)&&y.unMount.add(i)}}},tr=()=>t.shouldFocusError&&ce(s,ye,y.mount),Br=i=>{z(i)&&(F.state.next({disabled:i}),ce(s,(n,l)=>{const g=c(s,l);g&&(n.disabled=g._f.disabled||i,Array.isArray(g._f.refs)&&g._f.refs.forEach(f=>{f.disabled=g._f.disabled||i}))},0,!1))},sr=(i,n)=>async l=>{let g;l&&(l.preventDefault&&l.preventDefault(),l.persist&&l.persist());let f=L(u);if(F.state.next({isSubmitting:!0}),t.resolver){const{errors:d,values:_}=await R();r.errors=d,f=_}else await j(s);if(N(r.errors,"root"),B(r.errors)){F.state.next({errors:{}});try{await i(f,l)}catch(d){g=d}}else n&&await n({...r.errors},l),tr(),setTimeout(tr);if(F.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:B(r.errors)&&!g,submitCount:r.submitCount+1,errors:r.errors}),g)throw g},Wr=(i,n={})=>{c(s,i)&&(C(n.defaultValue)?K(i,L(c(a,i))):(K(i,n.defaultValue),w(a,i,L(n.defaultValue))),n.keepTouched||N(r.touchedFields,i),n.keepDirty||(N(r.dirtyFields,i),r.isDirty=n.defaultValue?V(i,L(c(a,i))):V()),n.keepError||(N(r.errors,i),b.isValid&&J()),F.state.next({...r}))},ir=(i,n={})=>{const l=i?L(i):a,g=L(l),f=B(i),d=f?a:g;if(n.keepDefaultValues||(a=l),!n.keepValues){if(n.keepDirtyValues)for(const _ of y.mount)c(r.dirtyFields,_)?w(d,_,c(u,_)):K(_,c(d,_));else{if(Ge&&C(i))for(const _ of y.mount){const D=c(s,_);if(D&&D._f){const M=Array.isArray(D._f.refs)?D._f.refs[0]:D._f.ref;if(we(M)){const T=M.closest("form");if(T){T.reset();break}}}}s={}}u=e.shouldUnregister?n.keepDefaultValues?L(a):{}:L(d),F.array.next({values:{...d}}),F.values.next({values:{...d}})}y={mount:n.keepDirtyValues?y.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!b.isValid||!!n.keepIsValid||!!n.keepDirtyValues,o.watch=!!e.shouldUnregister,F.state.next({submitCount:n.keepSubmitCount?r.submitCount:0,isDirty:f?!1:n.keepDirty?r.isDirty:!!(n.keepDefaultValues&&!ne(i,a)),isSubmitted:n.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:f?{}:n.keepDirtyValues?n.keepDefaultValues&&u?Ae(a,u):r.dirtyFields:n.keepDefaultValues&&i?Ae(a,i):n.keepDirty?r.dirtyFields:{},touchedFields:n.keepTouched?r.touchedFields:{},errors:n.keepErrors?r.errors:{},isSubmitSuccessful:n.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},ar=(i,n)=>ir(ie(i)?i(u):i,n);return{control:{register:Ne,unregister:Re,getFieldState:Ze,handleSubmit:sr,setError:er,_executeSchema:R,_getWatch:S,_getDirty:V,_updateValid:J,_removeUnmounted:xe,_updateFieldArray:p,_updateDisabledField:rr,_getFieldArray:U,_reset:ir,_resetDefaultValues:()=>ie(t.defaultValues)&&t.defaultValues().then(i=>{ar(i,t.resetOptions),F.state.next({isLoading:!1})}),_updateFormState:i=>{r={...r,...i}},_disableForm:Br,_subjects:F,_proxyFormState:b,_setErrors:X,get _fields(){return s},get _formValues(){return u},get _state(){return o},set _state(i){o=i},get _defaultValues(){return a},get _names(){return y},set _names(i){y=i},get _formState(){return r},set _formState(i){r=i},get _options(){return t},set _options(i){t={...t,...i}}},trigger:ge,register:Ne,handleSubmit:sr,watch:jr,setValue:K,getValues:Xe,reset:ar,resetField:Wr,clearErrors:Pr,unregister:Re,setError:er,setFocus:(i,n={})=>{const l=c(s,i),g=l&&l._f;if(g){const f=g.refs?g.refs[0]:g.ref;f.focus&&(f.focus(),n.shouldSelect&&f.select())}},getFieldState:Ze}}function Et(e={}){const t=x.useRef(),r=x.useRef(),[s,a]=x.useState({isDirty:!1,isValidating:!1,isLoading:ie(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:ie(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...ft(e),formState:s});const u=t.current.control;return u._options=e,ke({subject:u._subjects.state,next:o=>{Ar(o,u._proxyFormState,u._updateFormState,!0)&&a({...u._formState})}}),x.useEffect(()=>u._disableForm(e.disabled),[u,e.disabled]),x.useEffect(()=>{if(u._proxyFormState.isDirty){const o=u._getDirty();o!==s.isDirty&&u._subjects.state.next({isDirty:o})}},[u,s.isDirty]),x.useEffect(()=>{e.values&&!ne(e.values,r.current)?(u._reset(e.values,u._options.resetOptions),r.current=e.values,a(o=>({...o}))):u._resetDefaultValues()},[e.values,u]),x.useEffect(()=>{e.errors&&u._setErrors(e.errors)},[e.errors,u]),x.useEffect(()=>{u._state.mount||(u._updateValid(),u._state.mount=!0),u._state.watch&&(u._state.watch=!1,u._subjects.state.next({...u._formState})),u._removeUnmounted()}),x.useEffect(()=>{e.shouldUnregister&&u._subjects.values.next({values:u._getWatch()})},[e.shouldUnregister,u]),t.current.formState=xr(s,u),t.current}const mr=(e,t,r)=>{if(e&&"reportValidity"in e){const s=c(r,t);e.setCustomValidity(s&&s.message||""),e.reportValidity()}},Ir=(e,t)=>{for(const r in t.fields){const s=t.fields[r];s&&s.ref&&"reportValidity"in s.ref?mr(s.ref,r,e):s.refs&&s.refs.forEach(a=>mr(a,r,e))}},yt=(e,t)=>{t.shouldUseNativeValidation&&Ir(e,t);const r={};for(const s in e){const a=c(t.fields,s),u=Object.assign(e[s]||{},{ref:a&&a.ref});if(gt(t.names||Object.keys(e),s)){const o=Object.assign({},c(r,s));w(o,"root",u),w(r,s,o)}else w(r,s,u)}return r},gt=(e,t)=>e.some(r=>r.startsWith(t+"."));var mt=function(e,t){for(var r={};e.length;){var s=e[0],a=s.code,u=s.message,o=s.path.join(".");if(!r[o])if("unionErrors"in s){var y=s.unionErrors[0].errors[0];r[o]={message:y.message,type:y.code}}else r[o]={message:u,type:a};if("unionErrors"in s&&s.unionErrors.forEach(function(b){return b.errors.forEach(function(F){return e.push(F)})}),t){var h=r[o].types,E=h&&h[s.code];r[o]=wr(o,t,r,a,E?[].concat(E,s.message):s.message)}e.shift()}return r},kt=function(e,t,r){return r===void 0&&(r={}),function(s,a,u){try{return Promise.resolve(function(o,y){try{var h=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](s,t)).then(function(E){return u.shouldUseNativeValidation&&Ir({},u),{errors:{},values:r.raw?s:E}})}catch(E){return y(E)}return h&&h.then?h.then(void 0,y):h}(0,function(o){if(function(y){return Array.isArray(y==null?void 0:y.errors)}(o))return{values:{},errors:yt(mt(o.errors,!u.shouldUseNativeValidation&&u.criteriaMode==="all"),u)};throw o}))}catch(o){return Promise.reject(o)}}},_t="Label",Or=Y.forwardRef((e,t)=>te.jsx(Kr.label,{...e,ref:t,onMouseDown:r=>{var a;r.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));Or.displayName=_t;var Ur=Or;const vt=zr("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Lr=Y.forwardRef(({className:e,...t},r)=>te.jsx(Ur,{ref:r,className:ve(vt(),e),...t}));Lr.displayName=Ur.displayName;const Ct=Qr,Mr=Y.createContext({}),Rt=({...e})=>te.jsx(Mr.Provider,{value:{name:e.name},children:te.jsx(rt,{...e})}),Ce=()=>{const e=Y.useContext(Mr),t=Y.useContext(Tr),{getFieldState:r,formState:s}=be(),a=r(e.name,s);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:u}=t;return{id:u,name:e.name,formItemId:`${u}-form-item`,formDescriptionId:`${u}-form-item-description`,formMessageId:`${u}-form-item-message`,...a}},Tr=Y.createContext({}),ht=Y.forwardRef(({className:e,...t},r)=>{const s=Y.useId();return te.jsx(Tr.Provider,{value:{id:s},children:te.jsx("div",{ref:r,className:ve("space-y-2",e),...t})})});ht.displayName="FormItem";const Ft=Y.forwardRef(({className:e,...t},r)=>{const{error:s,formItemId:a}=Ce();return te.jsx(Lr,{ref:r,className:ve(s&&"text-destructive",e),htmlFor:a,...t})});Ft.displayName="FormLabel";const bt=Y.forwardRef(({...e},t)=>{const{error:r,formItemId:s,formDescriptionId:a,formMessageId:u}=Ce();return te.jsx(Gr,{ref:t,id:s,"aria-describedby":r?`${a} ${u}`:`${a}`,"aria-invalid":!!r,...e})});bt.displayName="FormControl";const xt=Y.forwardRef(({className:e,...t},r)=>{const{formDescriptionId:s}=Ce();return te.jsx("p",{ref:r,id:s,className:ve("text-[0.8rem] text-muted-foreground",e),...t})});xt.displayName="FormDescription";const At=Y.forwardRef(({className:e,children:t,...r},s)=>{const{error:a,formMessageId:u}=Ce(),o=a?String(a==null?void 0:a.message):t;return o?te.jsx("p",{ref:s,id:u,className:ve("text-[0.8rem] font-medium text-destructive",e),...r,children:o}):null});At.displayName="FormMessage";export{Ct as F,Rt as a,ht as b,Ft as c,bt as d,At as e,Dt as f,xt as g,kt as t,Et as u};
